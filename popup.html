<!DOCTYPE html>
<html>
<head>
  <style>
    /* 1. Atur lebar body maksimal agar tidak terlalu mepet layar */
    body { 
        width: 780px; /* Lebar aman maksimal popup chrome */
        padding: 15px; 
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
    }
    
    /* Tombol Utama */
    .btn-main { width: 100%; padding: 10px; background: #007bff; color: white; border: none; cursor: pointer; font-weight: bold; border-radius: 4px; margin-bottom: 15px; }
    .btn-main:hover { background: #0056b3; }

    /* Area Download */
    #downloadArea { display: none; gap: 10px; margin-bottom: 15px; }
    .btn-action { flex: 1; padding: 8px; border: none; cursor: pointer; font-weight: bold; color: white; border-radius: 4px; font-size: 12px; }
    .btn-csv { background-color: #28a745; } 
    .btn-csv:hover { background-color: #218838; }
    .btn-json { background-color: #fd7e14; } 
    .btn-json:hover { background-color: #ca6510; }

    .status-bar { margin-bottom: 10px; font-size: 13px; font-weight: bold; color: #333; }

    /* --- PERBAIKAN TABEL --- */
    
    /* Wrapper untuk Scrollbar */
    .table-wrapper {
        width: 100%;
        max-height: 400px; /* Batas tinggi scroll vertikal */
        overflow-x: auto;  /* Aktifkan scroll horizontal */
        overflow-y: auto;  /* Aktifkan scroll vertikal */
        border: 1px solid #ddd;
        border-radius: 4px;
        box-shadow: inset 0 0 5px rgba(0,0,0,0.1);
    }

    #resultTable { 
        width: 100%; 
        border-collapse: collapse; 
        font-size: 11px; /* Font sedikit diperkecil */
    }

    #resultTable th, #resultTable td { 
        border: 1px solid #ddd; 
        padding: 8px 6px; 
        text-align: left; 
        white-space: nowrap; /* PENTING: Mencegah teks turun ke bawah, memaksa tabel melebar */
    }

    /* Sticky Header: Header tetap nempel di atas saat scroll */
    #resultTable th { 
        background-color: #f1f3f5; 
        position: sticky; 
        top: 0; 
        z-index: 10;
        box-shadow: 0 1px 1px rgba(0,0,0,0.1);
    }
    
    /* Alternating row colors (Zebra striping) */
    #resultTable tr:nth-child(even) { background-color: #f9f9f9; }
    #resultTable tr:hover { background-color: #e9ecef; }

  </style>
</head>
<body>
  <h3 style="margin-top:0;">LPSE Scraper</h3>
  
  <button id="btnScrape" class="btn-main">AMBIL DATA TABEL</button>
  
  <div id="status" class="status-bar">Siap melakukan scraping...</div>

  <div id="downloadArea">
      <button id="btnDownloadCsv" class="btn-action btn-csv">UNDUH CSV (;)</button>
      <button id="btnDownloadJson" class="btn-action btn-json">UNDUH JSON</button>
  </div>
  
  <div class="table-wrapper">
      <table id="resultTable">
        <thead><tr id="tableHeader"></tr></thead>
        <tbody id="tableBody"></tbody>
      </table>
  </div>

  <script src="repository.js"></script>
  <script src="formatter.js"></script>
  <script src="popup.js"></script>
</body>
</html>